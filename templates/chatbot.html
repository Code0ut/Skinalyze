<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width, initial-scale=1.0">
    <title>form</title>
    <style>
        body{
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: antiquewhite;
        }

           form{
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            /* border: 2px solid red; */
            width: 60%;
            height: 800px;
            border-radius: 12px ;
            box-shadow: 0px 4px 25px 3px rgb(59, 63, 197);
            background-color: rgba(238, 196, 238,0.5);

           }
           form input{
                    width: 80%;
                    height: 40px;
                    border-radius: 12px;
                    border: none;
                    background-color: rgb(173, 178, 241);

                    /* box-shadow: 3px 4px 10px 3px rgb(109, 51, 161); */

                }
                form label{
                    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
                    font-weight: bolder;
                    font-size: larger;

                }
                  input#Information{
                    height: 80px;
                }
                #but{
                    width: 80%;
                    height: 40px;
                    border-radius: 12px;
                    border: none;
                    background-color: rgb(78, 87, 216);
                    position: relative;
                    top: 28px;
                    font-weight: bolder;
                    font-size:x-large;
                    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;

                }
                #but:hover{
                          background-color: aqua;
                          color: black;

                }
                h3{
                    color: #e90090; ;
                }
                #loading {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    margin-top: 20px;
                    font-family: Arial, sans-serif;
                    color: #555;
                }


    </style>
</head>
<body>



    <form>



        <h2> â­•Skinalyze</h2>
        <h3>DISEASE ASSESMENT FORM</h3>

        <label>1. What are the primary symptoms you have experienced?</label>
        <input type="text" name="primary_symptom" id="primary" placeholder="itching, rashes, etc." required>

        <label>2. Specify the affected part?</label>
        <input type="text" name="location" id="associated" placeholder="back, face, arm, etc." required>

        <label>3. What are other symptoms you experience?</label>
        <input type="text" name="associated_symptoms" id="associated_symptoms" placeholder="redness, puss">

        <label>3. Please tell the approx duration of symptoms?</label>
        <input type="text" name="duration" id="timeperiod" placeholder="2 days, 1 week">

        <label>4. Severity?</label>
        <input type="text" name="severity" id="severity" placeholder="Mild/Moderate/Severe" required>

        <label>5. Additional Information?</label>
        <input type="text" name="additional_info" id="Information" placeholder="diet changes, exposure to sun, etc.">

        <button id="but" type="submit">Predict</button>
    </form>

    <div id="loading" style="display: none;">
    <img src="https://i.gifer.com/YCZH.gif" alt="Loading..." width="60">
    <p>Analyzing... please wait</p>
    </div>

    <div id="chatbot-response"></div>
    <script>
        document.querySelector("form").addEventListener("submit", async function(event) {
    event.preventDefault();

    // Show loader
    document.getElementById("loading").style.display = "flex";
    document.getElementById("chatbot-response").innerHTML = ""; // Clear previous

    const formData = new FormData(this);
    try {
        const response = await fetch("/predict", {
            method: "POST",
            body: formData
        });

        const result = await response.json();

        // Hide loader
        document.getElementById("loading").style.display = "none";

        // Show result
        document.getElementById("chatbot-response").innerHTML = `<h5>Prediction:</h5><p>${result.result || result}</p>`;
    } catch (err) {
        document.getElementById("loading").style.display = "none";
        document.getElementById("chatbot-response").innerHTML = `<p style="color:red;">Something went wrong. Please try again.</p>`;
    }
});

    </script>

</body>
</html>
